CREATE EXTENSION IF NOT EXISTS pgcrypto;
CREATE TABLE "public"."loan"("loan_id" uuid NOT NULL DEFAULT gen_random_uuid(), "borrower" uuid NOT NULL, "state" text NOT NULL, "principal" float8 NOT NULL, "apr" float8 NOT NULL, "tenor" numeric NOT NULL, "compounding_frequency" numeric NOT NULL, "principal_remaining" float8 NOT NULL, "interest_paid" float8 NOT NULL, "interest_remaining" float8 NOT NULL, "penalty_apr" float8 NOT NULL, "loan_request" uuid NOT NULL, PRIMARY KEY ("loan_id") , FOREIGN KEY ("borrower") REFERENCES "public"."user"("id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("loan_request") REFERENCES "public"."loan_request"("request_id") ON UPDATE restrict ON DELETE restrict);
