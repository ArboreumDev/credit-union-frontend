mutation StartLoan(
  $request_id: uuid!
  $payable: payables_insert_input!
  $receivable_corpus: receivables_insert_input!
  $receivable_supporter: receivables_insert_input!
  $lenders: [loan_participants_insert_input!]!
) # $balanceUpdate: ??
# $guarantors: [guarantorDetailsInput!]!
{
  update_loan_requests_by_pk(
    pk_columns: { request_id: $request_id }
    _set: { status: "live" }
  ) {
    request_id
    status
  }
  insert_payables_one(object: $payable) {
    amount_total
    amount_paid
  }
  corpus: insert_receivables_one(object: $receivable_corpus) {
    amount_total
    amount_received
    status
  }
  supporter: insert_receivables_one(object: $receivable_supporter) {
    amount_total
    amount_received
    status
  }
  lenders: insert_loan_participants (objects: $lenders) {
    returning {
      lender_id
    }
  }
}
